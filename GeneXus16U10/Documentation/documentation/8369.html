<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>DFROpen Function</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/servlet/wiki?8369,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">DFROpen Function</h1>
<!--DFROpen Function--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>Opens a text file for its processing.  It is the first function to be called to begin reading a text file.</p>

<h3><a id="Syntax" class="HashLink" href="#Syntax">Syntax</a></h3>

<p><b>DFROpen(</b><i>FileName</i> [ , <i>length</i> [ ,  <i>fdel</i> [ ,  <i>sdel</i> [ ,  <i>encoding</i> ] ] ] ] <b>)</b><br />
<br />
<b>Type Returned:</b><br />
Numeric<br />
<br />
<b>Where:</b></p>

<p><i>FileName</i></p>

<p style="margin-left: 40.0px;">It can be an attribute, variable or constant of the char type.  Its value will be considered as the file name to be processed.  It may contain directory specifications or not.  If it doesn’t, it will be searched in the current directory.</p>

<p><i>length (deprecated)</i></p>

<p style="margin-left: 40.0px;">It can be an attribute, variable or constant of the numeric type, optional, which indicates the maximum size, in number of characters, of the record to be read.  See that the delimited ASCII files have records (lines) of variable length.  If it is specified, the value should correspond to the maximum quantity of characters that a line may have.  The default value is 1024.</p>

<p><i>fdel</i></p>

<p style="margin-left: 40.0px;">It can be an attribute, variable or constant of the character type, optional, which indicates the delimiting character among fields.  If you wish to specify the tab character as separator, the value of this parameter must be the string “\t”.  The default value is &quot;,&quot; (comma). </p>

<p><i>sdel</i></p>

<p style="margin-left: 40.0px;">It can be an attribute, variable or constant of the character type, optional,  which indicates  the delimiting character of the string fields.  Only the first character of the parameter value is considered.  Its value may be any character <b>not appearing </b>in the texts.  Thedefault value is “ (quotation mark).</p>

<p><i>encoding</i></p>

<p style="margin-left: 40.0px;">It can be an attribute, variable or constant of the character type, optional, which indicates the encoding to be used to read the file. If you specify this parameter, it means that the length used in the function <a href="8367.html">DFRGTxt</a> means “number of bytes”.</p>

<h3><a id="+" class="HashLink" href="#+"> </a></h3>

<h3><a id="Values" class="HashLink" href="#Values">Values</a></h3>

<p>This function may return some of the following values:<br />
<br />
<b> 0: </b>Successful operation. The file has been opened.<br />
<b>-1: </b>Wrong sequence. It occurs when this function is called more than once without previously calling the dfrclose function. If the trace is activated you will see the ADF0005 message indicating this error.<br />
<b>-2: </b>Opening error. It occurs when the file identified as &lt;filename&gt; could not be opened.  The cause may be clearly identified by enabling the trace and looking for the message with ADF0001 code. It is most common that the file does not exist.<br />
<b>-8: </b>Not enough memory.  It occurs when it isn’t possible to reserve a buffer of &lt;length&gt; bytes.  If the trace is activated, you will see the ADF0007 message indicating this error.</p>

<h3><a id="Example" class="HashLink" href="#Example">Example</a></h3>

<p>For this example, the parameter field separator is not required.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;Text = &quot;&quot;
<strong>&amp;i = dfropen( &quot;Test.txt&quot;,1024,,&quot;&quot;)</strong> 
If &amp;I = 0
    Do while dfrnext( ) = 0
       &amp;i = dfrgtxt(&amp;Linetxt) // The length of the line is given by the size of the variable.
       &amp;Text = &amp;Text + Newline() + &amp;Linetxt
    EndDo
    &amp;i = dfrclose( )
else
    &amp;Text = &quot;Could not open file&quot;
EndIf</pre>

<h3><a id="Scope" class="HashLink" href="#Scope">Scope</a></h3>

<p><b>Objects:</b> <a href="6293.html">Procedures</a>, <a href="1908.html">Transactions</a>, <a href="6916.html">Web Panels</a><br />
<b>Languages:</b> .NET, Java, Ruby (up to GeneXus X Evolution 3)</p>

<h3><a id="See+Also" class="HashLink" href="#See+Also">See Also</a></h3>

<p><a href="8364.html">Delimited ASCII files functions</a></p>

<p></p>

<p><br />
</p>

<p><br />
<br />
</p>
<br />
</td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="8364.html">Delimited ASCII files functions</a></TD><TD><a href="8367.html">DFRGTxt Function</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 03/02/20 06:42 AM</em></font></td></TR></table></font>