<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>HowTo: Versioning Your Smart Device Application</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/servlet/wiki?17223,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">HowTo: Versioning Your Smart Device Application</h1>
<!--HowTo: Versioning Your Smart Device Application--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>The application versioning is a critical component its maintenance. Every end user needs specific information about the application version that is installed on their devices and which upgrade version is available for installation.</p>

<p>Also, the application may need to query the system for your application's version, to determine compatibility and identify dependencies. For example, publishing service may need to check the application version to determine compatibility and establish upgrade/downgrade relationships. The native apps generated by GeneXus are installed on the smart devices, so when you are about to launch a new version of your app you take chances that your older version quits working or start bugging because some changes have been made on the server side of your application.</p>

<h4><a id="+" class="HashLink" href="#+"> </a></h4>

<h2><a id="Little+of+background" class="HashLink" href="#Little+of+background">Little of background</a></h2>

<p>The core of every GeneXus smart device application is the <a href="14981.html">Flexible Client</a>. This fact means that the app can detect whether the server has a newer or an update version of the metadata and then begin to behave using that version.</p>

<p>Flexible Clients brings up many advantages:</p>

<ul>
	<li>You can update some parts of your app without the need of waiting for the whole approving stages of the markets.</li>
	<li>The older clients are advised that an update is needed and automatically start to update the client version.</li>
</ul>

<p>However, this does not cover every scenario. For example, when newer versions have some changes its binary code, such as a new User Control, the Flexible Client is not going to be able to update itself to the newer version. In this case, there is a &quot;<em>Not Supported Client scheme</em>&quot; that is going to be applied. To sum up, if the version of the metadata needs to be updated (a <em>minor change</em> occurs), as a developer you want your app to automatically start updating. On the other hand, if there is a scenario of &quot;<em>Not Supported client scheme</em>&quot; (a <em>major change</em> occurs) the best option is that the application redirects the user to the store to download the most recent version.</p>

<p>So this document explains how versioning is used in GeneXus for Smart Devices by developing a simple example.</p>

<p> </p>

<h2><a id="Main+components" class="HashLink" href="#Main+components">Main components</a></h2>

<p>There are three properties per platform in the <a href="17817.html">Smart Devices Main object</a> level involved in the versioning process.</p>

<ul>
	<li><strong>Version code</strong><br />
	A string value composed of two numbers X and Y separated by a '.' (dot) that represents the version of the application, relative to others. The X indicates a major upgrade and Y a minor upgrade. For example, a value of &quot;2.4&quot; means that the application was upgraded two times in a major way and four times in a minor way relative to the major version.<br />
	 </li>
	<li><strong>Version name </strong><br />
	A string value that represents the release version of the application as it is shown to the end user. For simplicity, it should have the same value as the above property followed by a dot and a build number (e.g. &quot;2.4.126&quot;).<br />
	 </li>
	<li><strong>Where the application must be updated</strong><br />
	An URL where the application can be downloaded (usually, a store) in case that the end user needs a major upgrade.</li>
</ul>

<p>Let's see the behavior on each platform.</p>

<h3><a id="Android+specific" class="HashLink" href="#Android+specific">Android specific</a></h3>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td style="width: 220.0px;vertical-align: top;"><strong>Android Version Code property</strong></td>
			<td style="vertical-align: top;">Every time that the developer publishes a newer version of the application (the *.apk file), an upgrade of this value is required by <a href="15948.html">Google Play Store</a> (or another store). Otherwise, it will display an error message like this:<br />
			<img src="./images/34416.png" id="34416" class="WikiImage"/></td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Android Version Name property</strong></td>
			<td style="vertical-align: top;">The version which is displayed in the app details of the store.<br />
			<img src="./images/34417.png" id="34417" class="WikiImage"/></td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Update URL property</strong> <sup>(1)</sup></td>
			<td style="vertical-align: top;">Refer to <a href="https://wiki.genexus.com/commwiki/servlet/wiki?37262,," target="_blank">this document</a>.</td>
		</tr>
	</tbody>
</table>

<h3><a id="iOS+specific" class="HashLink" href="#iOS+specific">iOS specific</a></h3>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td style="width: 220.0px;vertical-align: top;"><strong>Apple Version Code property</strong></td>
			<td style="vertical-align: top;">It has the same meaning as the Android's version of this property after following the process of how to upgrade the application on the <a href="18958.html">Apple App Store</a>.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Apple Version Name property  </strong></td>
			<td style="vertical-align: top;">It applies the same concept of Android's version of this property but only on the Apple App Store.<br />
			<img src="./images/34426.png" id="34426" class="WikiImage"/></td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><b>App Store URL</b></td>
			<td style="vertical-align: top;">The URL of the iTunes website where the application is hosted. It takes the following aspect:<br />
			    <em> https://itunes.apple.com/app/id&lt;your_apple_app_identifier&gt; </em> (e.g. <a href="https://itunes.apple.com/app/id887880596">https://itunes.apple.com/app/id887880596</a>)<br />
			Where the Apple App ID is provided once the application is published (it can be queried on <a href="https://itunesconnect.apple.com">iTunes Connect</a>).<br />
			<img src="./images/34427.png" id="34427" class="WikiImage"/><br />
			For advanced users, it can also be a custom URL pointing to a <em>manifest.plist</em> file as follows.<br />
			    <em> itms-services://?action=download-manifest&amp;url=&lt;url_to_the_manifest.plist_file&gt;</em><br />
			The <em>&lt;url_to_the_manifest.plist_file&gt;</em> must be escaped (e.g. the URL <em>http://www.my-domain.com/path/to/manifest.plist</em> should be written as<em> https%3A%2F%2Fwww.my-domain.com%2Fpath%2Fto%2Fmanifest.plist</em>)</td>
		</tr>
	</tbody>
</table>

<p> </p>

<h2><a id="Behavior+when+versioning" class="HashLink" href="#Behavior+when+versioning">Behavior when versioning</a></h2>

<h3><a id="Minor+change+case" class="HashLink" href="#Minor+change+case">Minor change case</a></h3>

<p>For minor changes or changes that our app can update itself, we can change the number after the '.' (dot) as follows. This action will make the app in our device to automatically update the metadata information.</p>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td style=""> </td>
			<td style="border-bottom: 1.0px solid black;"><strong>Current version</strong></td>
			<td> </td>
			<td style="border-bottom: 1.0px solid black;"><strong>Newer version</strong></td>
		</tr>
		<tr>
			<td style="vertical-align: middle;"><strong>Android  <br />
			case </strong></td>
			<td><img src="./images/34430.png" id="34430" class="WikiImage"/></td>
			<td><img src="./images/23846.jpg" id="23846" class="WikiImage"/></td>
			<td><img src="./images/34431.png" id="34431" class="WikiImage"/></td>
		</tr>
		<tr>
			<td style="vertical-align: middle;"><strong>iOS<br />
			case</strong></td>
			<td><img src="./images/34432.png" id="34432" class="WikiImage"/></td>
			<td><img src="./images/23846.jpg" id="23846" class="WikiImage"/></td>
			<td><img src="./images/34433.png" id="34433" class="WikiImage"/></td>
		</tr>
	</tbody>
</table>

<p>Result</p>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td style=""> </td>
			<td style="border-bottom: 1.0px solid black;vertical-align: top;text-align: center;"><b>Detect new version </b></td>
			<td style="border-bottom: 1.0px solid black;vertical-align: top;text-align: center;"><strong>Update finished</strong></td>
		</tr>
		<tr>
			<td style="vertical-align: middle;border-bottom: 1.0px solid black;"><strong>Android  <br />
			case </strong></td>
			<td style="vertical-align: top;border-bottom: 1.0px solid black;"> </td>
			<td style="vertical-align: top;border-bottom: 1.0px solid black;"> </td>
		</tr>
		<tr>
			<td style="vertical-align: middle;"><strong>iOS<br />
			case</strong></td>
			<td style="vertical-align: top;"><img src="./images/35946.png" id="35946" class="WikiImage"/></td>
			<td style="vertical-align: top;"><img src="./images/35947.png" id="35947" class="WikiImage"/></td>
		</tr>
	</tbody>
</table>

<h3><a id="Major+change+case" class="HashLink" href="#Major+change+case">Major change case</a></h3>

<p>For major changes in where the app must be upgraded by downloading it from the store we can change the number before the '.' (dot) as follows. This action will force the end user to redirect to the store by its URL and download the newer version of the app.</p>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td style=""> </td>
			<td style="border-bottom: 1.0px solid black;"><strong>Current version</strong></td>
			<td> </td>
			<td style="border-bottom: 1.0px solid black;"><strong>Newer version</strong></td>
		</tr>
		<tr>
			<td style="vertical-align: middle;"><strong>Android  <br />
			case </strong></td>
			<td><img src="./images/34431.png" id="34431" class="WikiImage"/></td>
			<td><img src="./images/23846.jpg" id="23846" class="WikiImage"/></td>
			<td><img src="./images/34434.png" id="34434" class="WikiImage"/></td>
		</tr>
		<tr>
			<td style="vertical-align: middle;"><strong>iOS<br />
			case</strong></td>
			<td><img src="./images/34433.png" id="34433" class="WikiImage"/></td>
			<td><img src="./images/23846.jpg" id="23846" class="WikiImage"/></td>
			<td><img src="./images/34435.png" id="34435" class="WikiImage"/></td>
		</tr>
	</tbody>
</table>

<p>Result</p>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td style=""> </td>
			<td style="border-bottom: 1.0px solid black;vertical-align: top;text-align: center;"><b>Detect new version </b></td>
			<td style="border-bottom: 1.0px solid black;vertical-align: top;text-align: center;"><strong>Redirect to the store </strong></td>
			<td style="border-bottom: 1.0px solid black;vertical-align: top;text-align: center;"><strong>Start updating </strong></td>
		</tr>
		<tr>
			<td style="vertical-align: middle;border-bottom: 1.0px solid black;"><strong>Android  <br />
			case </strong></td>
			<td style="vertical-align: top;border-bottom: 1.0px solid black;"><img src="./images/34436.png" id="34436" class="WikiImage"/></td>
			<td style="vertical-align: top;border-bottom: 1.0px solid black;"><img src="./images/34437.png" id="34437" class="WikiImage"/></td>
			<td style="vertical-align: top;border-bottom: 1.0px solid black;"><img src="./images/34438.png" id="34438" class="WikiImage"/></td>
		</tr>
		<tr>
			<td style="vertical-align: middle;"><strong>iOS<br />
			case</strong></td>
			<td style="vertical-align: top;"><img src="./images/35410.png" id="35410" class="WikiImage"/></td>
			<td style="vertical-align: top;"><img src="./images/35948.png" id="35948" class="WikiImage"/></td>
			<td style="vertical-align: top;"> </td>
		</tr>
	</tbody>
</table>

<p> </p>

<h2><a id="Notes" class="HashLink" href="#Notes">Notes</a></h2>

<p style="margin-left: 40.0px;">(1) Replacement of <strong>Android Google Play URL</strong> <strong>property </strong>that enhanced the possibility of including other URL's stores instead of just Google Play.</p>

<p> </p>

<h2><a id="See+also" class="HashLink" href="#See+also">See also</a></h2>

<ul>
	<li><a href="14981.html">Smart Devices online applications architecture</a></li>
	<li><a href="19531.html">Smart Devices Versioning Details</a></li>
</ul>

<p><br />
<br />
<br />
</p>
</td></tr></tbody></table><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="37261.html">Android Version Name property</a></TD><TD><a href="39496.html">Apple Version Code property</a></TD><TD><a href="31271.html">ClientInformation external object</a></TD></TR><TR><TD><a href="18958.html">HowTo: Publishing an application to the Apple App Store</a></TD><TD><a href="17817.html">Smart Devices Main object properties</a></TD></TR><TR><TD><a href="19531.html">Smart Devices Versioning Details</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 11/05/18 03:42 PM</em></font></td></TR></table></font>