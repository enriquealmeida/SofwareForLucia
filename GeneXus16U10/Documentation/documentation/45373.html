<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>SD Image Annotations</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/servlet/wiki?45373,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">SD Image Annotations</h1>
<!--SD Image Annotations--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><h2><a id="Description" class="HashLink" href="#Description"><strong>Description</strong></a></h2>

<p>It allows you to draw traces on images. You can store only the trace made on an image, or store the image together with the annotations. This control cannot be placed inside Grids because they generate a Scroll, and when a trace is drawn on the scroll axis the event triggered will be the scroll and not the trace.   </p>

<h2><a id="Properties" class="HashLink" href="#Properties"><strong>Properties</strong></a></h2>

<h3><a id="wiki%3F45382%2CTrace%2BColor%2Bproperty+Trace+Color" class="HashLink" href="#wiki%3F45382%2CTrace%2BColor%2Bproperty+Trace+Color"><strong><a href="45382.html">Trace Color</a></strong></a></h3>

<h3><a id="wiki%3F45381%2CTrace%2BThickness%2Bproperty+Trace+Thickness" class="HashLink" href="#wiki%3F45381%2CTrace%2BThickness%2Bproperty+Trace+Thickness"><strong><a href="45381.html">Trace Thickness</a></strong></a></h3>

<h2><a id="Methods" class="HashLink" href="#Methods"><strong>Methods</strong></a></h2>

<h3><a id="GetAnnotatedImage" class="HashLink" href="#GetAnnotatedImage"><strong>GetAnnotatedImage</strong></a></h3>

<p>It stores the modified image along with the annotations.  </p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;ResultImage = &amp;AnnotationImage.GetAnnotadeImage()</pre>

<h3><a id="GetAnnotations" class="HashLink" href="#GetAnnotations"><strong>GetAnnotations</strong></a></h3>

<p>It stores only the annotations made on an image. </p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;AnnotationsImage = &amp;AnnotationImage.GetAnnotations()</pre>

<h3><a id="Undo" class="HashLink" href="#Undo"><strong>Undo</strong></a></h3>

<p>It undoes the last trace made. The trace is taken from the moment you press on the device screen until you release it. </p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;AnnotationImage.Undo()</pre>

<h3><a id="Redo" class="HashLink" href="#Redo"><strong>Redo</strong></a></h3>

<p>It redraws the last trace discarded by the previous Undo.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;AnnotationImage.Redo()</pre>

<p><strong>Note:</strong></p>

<p>In both cases, when a new trace is made, the trace history changes. </p>

<p><strong>Example</strong></p>

<p>A car rental company uses an application for the rental process. When the car is delivered, it is checked by both the supervisor and the client, so that both of them try to find any scratches or dents before the client takes the car out on the street. That way the supervisor will record anything that might be found.</p>

<p>This example will show the steps to follow to design a screen like the one shown below, using several of the methods provided by the control:</p>

<p><img src="./images/45376.jpg" id="45376" class="WikiImage"/>    <img src="./images/45377.jpg" id="45377" class="WikiImage"/></p>

<p> </p>

<p>Step 1: <br />
<br />
Create a Panel For Smart Devices, and drag an <a href="6911.html">Attribute/Variable</a> of <a href="15204.html">Image</a> type to the Main Table. Change the <a href="9550.html">Control Type property</a> and assign it the value &quot;SD Image Annotations.&quot;</p>

<p><img src="./images/45387.png" id="45387" class="WikiImage"/></p>

<p>Step 2:</p>

<p>Enter some images that will allow you to indicate the thickness of the trace, and to delete and recover the traces made. Schedule the following events for these images.</p>

<p><img src="./images/45388.png" id="45388" class="WikiImage"/></p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Event Start
    &amp;CarImage.FromImage(&quot;ExampleImageCar&quot;)
Endevent

// They configure the thickness (in dips) of the traces to be drawn on the background            image.
Event ImageNarrowLine.Tap
    &amp;CarImage.TraceThickness = 1
Endevent
Event ImageWideLine.Tap
    &amp;CarImage.TraceThickness = 3
Endevent

// It undoes the last trace drawn by the user.
Event ImageUndo.Tap
    &amp;CarImage.Undo()
Endevent

// It redraws the last trace discarded by the previous Undo.
Event ImageRedo.Tap
    &amp;CarImage.Redo()
Endevent</pre>

<p> </p>

<p>Step 3:</p>

<p>Lastly, add some images with the colors available for the trace. Program the Tap events for each of the colors. This way you can change the color of the trace at runtime.</p>

<p><img src="./images/45389.png" id="45389" class="WikiImage"/></p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
// They configure the different colors for the traces.
Event ImageBlack.Tap
    &amp;CarImage.TraceColor = rgb(0,0,0)
Endevent
Event ImageRed.Tap
    &amp;CarImage.TraceColor = rgb(249,104,104)  
Endevent
Event ImageBlue.Tap
    &amp;CarImage.TraceColor = rgb(94,169,231)  
Endevent
Event ImageGreen.Tap
    &amp;CarImage.TraceColor = rgb(164,220,141) 
Endevent
Event ImageMustard.Tap
    &amp;CarImage.TraceColor = rgb(255,217,87)  
Endevent
</pre>

<p> </p>

<p>The application will then be programmed to meet the proposed scenario:  </p>

<p><img src="./images/45395.gif" id="45395" class="WikiImage"/></p>

<p><a href="https://wiki.genexus.com/commwiki/servlet/wiki?45477,," target="_blank">SDImageAnnotation download XPZ</a></p>

<h2><a id="Scope" class="HashLink" href="#Scope"><strong>Scope</strong></a></h2>

<p><strong>Platform: </strong>Smart Devices(iOS)</p>

<h2><a id="Availability" class="HashLink" href="#Availability"><strong>Availability</strong></a></h2>

<p>This external is available only for iOS as of <a href="45275.html">GeneXus 16 upgrade 9</a>.</p>

<p>This external is available for Android as of <a href="45624.html">GeneXus 16 upgrade 10</a>.</p>

<h2><a id="See+also" class="HashLink" href="#See+also"><strong>See also</strong></a></h2>

<p><a href="45381.html">Trace Thickness property</a></p>

<p><a href="45382.html">Trace Color property</a></p>

<p> </p>

<p></p>

<p></p>

<p>  </p>
</td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="45275.html">GeneXus 16 upgrade 9</a></TD><TD><a href="45382.html">Trace Color property</a></TD><TD><a href="45381.html">Trace Thickness property</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 06/15/20 06:38 PM</em></font></td></TR></table></font>